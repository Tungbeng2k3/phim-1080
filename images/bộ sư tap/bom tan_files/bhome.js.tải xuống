!function e(t,n,i){function a(o,l){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){var n=t[o][1][e];return a(n||e)}),d,d.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){"use strict";var i=e("../main");"function"==typeof define&&define.amd?define(i):(window.PerfectScrollbar=i,void 0===window.Ps&&(window.Ps=i))},{"../main":7}],2:[function(e,t,n){"use strict";n.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}(e,t)},n.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var n=e.className.split(" "),i=n.indexOf(t);i>=0&&n.splice(i,1),e.className=n.join(" ")}(e,t)},n.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,n){"use strict";var i={e:function(e,t){var n=document.createElement(e);return n.className=t,n},appendTo:function(e,t){return t.appendChild(e),e}};i.css=function(e,t,n){return"object"==typeof t?function(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i=i.toString()+"px"),e.style[n]=i}return e}(e,t):void 0===n?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}(e,t,n)},i.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},i.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},i.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return i.matches(e,t)}))},t.exports=i},{}],4:[function(e,t,n){"use strict";var i=function(e){this.element=e,this.events={}};i.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},i.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter((function(i){return!(!n||i===t)||(this.element.removeEventListener(e,i,!1),!1)}),this)},i.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var a=function(){this.eventElements=[]};a.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return void 0===t&&(t=new i(e),this.eventElements.push(t)),t},a.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},a.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},a.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},a.prototype.once=function(e,t,n){var i=this.eventElement(e),a=function(e){i.unbind(t,a),n(e)};i.bind(t,a)},t.exports=a},{}],5:[function(e,t,n){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,n){"use strict";var i=e("./class"),a=e("./dom"),r=n.toInt=function(e){return parseInt(e,10)||0},o=n.clone=function(e){if(e){if(e.constructor===Array)return e.map(o);if("object"==typeof e){var t={};for(var n in e)t[n]=o(e[n]);return t}return e}return null};n.extend=function(e,t){var n=o(e);for(var i in t)n[i]=o(t[i]);return n},n.isEditable=function(e){return a.matches(e,"input,[contenteditable]")||a.matches(e,"select,[contenteditable]")||a.matches(e,"textarea,[contenteditable]")||a.matches(e,"button,[contenteditable]")},n.removePsClasses=function(e){for(var t=i.list(e),n=0;n<t.length;n++){var a=t[n];0===a.indexOf("ps-")&&i.remove(e,a)}},n.outerWidth=function(e){return r(a.css(e,"width"))+r(a.css(e,"paddingLeft"))+r(a.css(e,"paddingRight"))+r(a.css(e,"borderLeftWidth"))+r(a.css(e,"borderRightWidth"))},n.startScrolling=function(e,t){i.add(e,"ps-in-scrolling"),void 0!==t?i.add(e,"ps-"+t):(i.add(e,"ps-x"),i.add(e,"ps-y"))},n.stopScrolling=function(e,t){i.remove(e,"ps-in-scrolling"),void 0!==t?i.remove(e,"ps-"+t):(i.remove(e,"ps-x"),i.remove(e,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,n){"use strict";var i=e("./plugin/destroy"),a=e("./plugin/initialize"),r=e("./plugin/update");t.exports={initialize:a,update:r,destroy:i}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,n){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t,n){"use strict";var i=e("../lib/helper"),a=e("../lib/dom"),r=e("./instances");t.exports=function(e){var t=r.get(e);t&&(t.event.unbindAll(),a.remove(t.scrollbarX),a.remove(t.scrollbarY),a.remove(t.scrollbarXRail),a.remove(t.scrollbarYRail),i.removePsClasses(e),r.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,n){"use strict";var i=e("../instances"),a=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){!function(e,t){function n(e){return e.getBoundingClientRect()}var i=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",i),t.event.bind(t.scrollbarYRail,"click",(function(i){var o=i.pageY-window.pageYOffset-n(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;r(e,"top",e.scrollTop+o*t.containerHeight),a(e),i.stopPropagation()})),t.event.bind(t.scrollbarX,"click",i),t.event.bind(t.scrollbarXRail,"click",(function(i){var o=i.pageX-window.pageXOffset-n(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;r(e,"left",e.scrollLeft+o*t.containerWidth),a(e),i.stopPropagation()}))}(e,i.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,n){"use strict";var i=e("../../lib/helper"),a=e("../../lib/dom"),r=e("../instances"),o=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=r.get(e);(function(e,t){function n(n){var a=r+n*t.railXRatio,o=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=a<0?0:a>o?o:a;var s=i.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;l(e,"left",s)}var r=null,s=null,c=function(t){n(t.pageX-s),o(e),t.stopPropagation(),t.preventDefault()},d=function(){i.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarX,"mousedown",(function(n){s=n.pageX,r=i.toInt(a.css(t.scrollbarX,"left"))*t.railXRatio,i.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",d),n.stopPropagation(),n.preventDefault()}))})(e,t),function(e,t){function n(n){var a=r+n*t.railYRatio,o=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=a<0?0:a>o?o:a;var s=i.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));l(e,"top",s)}var r=null,s=null,c=function(t){n(t.pageY-s),o(e),t.stopPropagation(),t.preventDefault()},d=function(){i.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarY,"mousedown",(function(n){s=n.pageY,r=i.toInt(a.css(t.scrollbarY,"top"))*t.railYRatio,i.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",d),n.stopPropagation(),n.preventDefault()}))}(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,n){"use strict";function i(e,t){var n=!1;t.event.bind(e,"mouseenter",(function(){n=!0})),t.event.bind(e,"mouseleave",(function(){n=!1}));var i=!1;t.event.bind(t.ownerDocument,"keydown",(function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)){var c=r.matches(t.scrollbarX,":focus")||r.matches(t.scrollbarY,":focus");if(n||c){var d=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(a.isEditable(d))return}var u=0,h=0;switch(o.which){case 37:u=o.metaKey?-t.contentWidth:o.altKey?-t.containerWidth:-30;break;case 38:h=o.metaKey?t.contentHeight:o.altKey?t.containerHeight:30;break;case 39:u=o.metaKey?t.contentWidth:o.altKey?t.containerWidth:30;break;case 40:h=o.metaKey?-t.contentHeight:o.altKey?-t.containerHeight:-30;break;case 33:h=90;break;case 32:h=o.shiftKey?90:-90;break;case 34:h=-90;break;case 35:h=o.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:h=o.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}s(e,"top",e.scrollTop-h),s(e,"left",e.scrollLeft+u),l(e),i=function(n,i){var a=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===a&&i>0||a>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===r&&n<0||r>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(u,h),i&&o.preventDefault()}}}))}var a=e("../../lib/helper"),r=e("../../lib/dom"),o=e("../instances"),l=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){i(e,o.get(e))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,n){"use strict";function i(e,t){function n(n){var a=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),l=a[0],s=a[1];(function(t,n){var i=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var a=i.scrollHeight-i.clientHeight;if(a>0&&!(0===i.scrollTop&&n>0||i.scrollTop===a&&n<0))return!0;var r=i.scrollLeft-i.clientWidth;if(r>0&&!(0===i.scrollLeft&&t<0||i.scrollLeft===r&&t>0))return!0}return!1})(l,s)||(i=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o(e,"top",s?e.scrollTop-s*t.settings.wheelSpeed:e.scrollTop+l*t.settings.wheelSpeed),i=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o(e,"left",l?e.scrollLeft+l*t.settings.wheelSpeed:e.scrollLeft-s*t.settings.wheelSpeed),i=!0):(o(e,"top",e.scrollTop-s*t.settings.wheelSpeed),o(e,"left",e.scrollLeft+l*t.settings.wheelSpeed)),r(e),i=i||function(n,i){var a=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===a&&i>0||a>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===r&&n<0||r>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(l,s),i&&(n.stopPropagation(),n.preventDefault()))}var i=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}var a=e("../instances"),r=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){i(e,a.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,n){"use strict";var i=e("../instances"),a=e("../update-geometry");t.exports=function(e){!function(e,t){t.event.bind(e,"scroll",(function(){a(e)}))}(e,i.get(e))}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,n){"use strict";function i(e,t){function n(){s||(s=setInterval((function(){return r.get(e)?(l(e,"top",e.scrollTop+c.top),l(e,"left",e.scrollLeft+c.left),void o(e)):void clearInterval(s)}),50))}function i(){s&&(clearInterval(s),s=null),a.stopScrolling(e)}var s=null,c={top:0,left:0},d=!1;t.event.bind(t.ownerDocument,"selectionchange",(function(){e.contains(function(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}())?d=!0:(d=!1,i())})),t.event.bind(window,"mouseup",(function(){d&&(d=!1,i())})),t.event.bind(window,"keyup",(function(){d&&(d=!1,i())})),t.event.bind(window,"mousemove",(function(t){if(d){var r={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};r.x<o.left+3?(c.left=-5,a.startScrolling(e,"x")):r.x>o.right-3?(c.left=5,a.startScrolling(e,"x")):c.left=0,r.y<o.top+3?(c.top=o.top+3-r.y<5?-5:-20,a.startScrolling(e,"y")):r.y>o.bottom-3?(c.top=r.y-o.bottom+3<5?5:20,a.startScrolling(e,"y")):c.top=0,0===c.top&&0===c.left?i():n()}}))}var a=e("../../lib/helper"),r=e("../instances"),o=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){i(e,r.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,n){"use strict";var i=e("../../lib/helper"),a=e("../instances"),r=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){(i.env.supportsTouch||i.env.supportsIePointer)&&function(e,t,n,i){function l(n,i){var a=e.scrollTop,r=e.scrollLeft,o=Math.abs(n),l=Math.abs(i);if(l>o){if(i<0&&a===t.contentHeight-t.containerHeight||i>0&&0===a)return!t.settings.swipePropagation}else if(o>l&&(n<0&&r===t.contentWidth-t.containerWidth||n>0&&0===r))return!t.settings.swipePropagation;return!0}function s(t,n){o(e,"top",e.scrollTop-n),o(e,"left",e.scrollLeft-t),r(e)}function c(){L=!0}function d(){L=!1}function u(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function f(e){if(h(e)){w=!0;var t=u(e);g.pageX=t.pageX,g.pageY=t.pageY,v=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function p(e){if(!w&&t.settings.swipePropagation&&f(e),!L&&w&&h(e)){var n=u(e),i={pageX:n.pageX,pageY:n.pageY},a=i.pageX-g.pageX,r=i.pageY-g.pageY;s(a,r),g=i;var o=(new Date).getTime(),c=o-v;c>0&&(b.x=a/c,b.y=r/c,v=o),l(a,r)&&(e.stopPropagation(),e.preventDefault())}}function m(){!L&&w&&(w=!1,clearInterval(y),y=setInterval((function(){return a.get(e)&&(b.x||b.y)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(y):(s(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(y)}),10))}var g={},v=0,b={},y=null,L=!1,w=!1;n?(t.event.bind(window,"touchstart",c),t.event.bind(window,"touchend",d),t.event.bind(e,"touchstart",f),t.event.bind(e,"touchmove",p),t.event.bind(e,"touchend",m)):i&&(window.PointerEvent?(t.event.bind(window,"pointerdown",c),t.event.bind(window,"pointerup",d),t.event.bind(e,"pointerdown",f),t.event.bind(e,"pointermove",p),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",c),t.event.bind(window,"MSPointerUp",d),t.event.bind(e,"MSPointerDown",f),t.event.bind(e,"MSPointerMove",p),t.event.bind(e,"MSPointerUp",m)))}(e,a.get(e),i.env.supportsTouch,i.env.supportsIePointer)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,n){"use strict";var i=e("../lib/helper"),a=e("../lib/class"),r=e("./instances"),o=e("./update-geometry"),l={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},s=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},a.add(e,"ps-container");var n=r.add(e);n.settings=i.extend(n.settings,t),a.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach((function(t){l[t](e)})),s(e),o(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,n){"use strict";function i(e){function t(){o.add(e,"ps-focus")}function n(){o.remove(e,"ps-focus")}var i=this;i.settings=r.clone(l),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===s.css(e,"direction"),i.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t}(),i.negativeScrollAdjustment=i.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.event=new c,i.ownerDocument=e.ownerDocument||document,i.scrollbarXRail=s.appendTo(s.e("div","ps-scrollbar-x-rail"),e),i.scrollbarX=s.appendTo(s.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",t),i.event.bind(i.scrollbarX,"blur",n),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=r.toInt(s.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom==i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:r.toInt(s.css(i.scrollbarXRail,"top")),i.railBorderXWidth=r.toInt(s.css(i.scrollbarXRail,"borderLeftWidth"))+r.toInt(s.css(i.scrollbarXRail,"borderRightWidth")),s.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=r.toInt(s.css(i.scrollbarXRail,"marginLeft"))+r.toInt(s.css(i.scrollbarXRail,"marginRight")),s.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=s.appendTo(s.e("div","ps-scrollbar-y-rail"),e),i.scrollbarY=s.appendTo(s.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",t),i.event.bind(i.scrollbarY,"blur",n),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=r.toInt(s.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight==i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:r.toInt(s.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?r.outerWidth(i.scrollbarY):null,i.railBorderYWidth=r.toInt(s.css(i.scrollbarYRail,"borderTopWidth"))+r.toInt(s.css(i.scrollbarYRail,"borderBottomWidth")),s.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=r.toInt(s.css(i.scrollbarYRail,"marginTop"))+r.toInt(s.css(i.scrollbarYRail,"marginBottom")),s.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function a(e){return e.getAttribute("data-ps-id")}var r=e("../lib/helper"),o=e("../lib/class"),l=e("./default-setting"),s=e("../lib/dom"),c=e("../lib/event-manager"),d=e("../lib/guid"),u={};n.add=function(e){var t=d();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),u[t]=new i(e),u[t]},n.remove=function(e){delete u[a(e)],function(e){e.removeAttribute("data-ps-id")}(e)},n.get=function(e){return u[a(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,n){"use strict";function i(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}var a=e("../lib/helper"),r=e("../lib/class"),o=e("../lib/dom"),l=e("./instances"),s=e("./update-scroll");t.exports=function(e){var t,n=l.get(e);n.containerWidth=e.clientWidth,n.containerHeight=e.clientHeight,n.contentWidth=e.scrollWidth,n.contentHeight=e.scrollHeight,e.contains(n.scrollbarXRail)||((t=o.queryChildren(e,".ps-scrollbar-x-rail")).length>0&&t.forEach((function(e){o.remove(e)})),o.appendTo(n.scrollbarXRail,e)),e.contains(n.scrollbarYRail)||((t=o.queryChildren(e,".ps-scrollbar-y-rail")).length>0&&t.forEach((function(e){o.remove(e)})),o.appendTo(n.scrollbarYRail,e)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=i(n,a.toInt(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=a.toInt((n.negativeScrollAdjustment+e.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=i(n,a.toInt(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=a.toInt(e.scrollTop*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),function(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,o.css(t.scrollbarXRail,n);var i={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,o.css(t.scrollbarYRail,i),o.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,n),n.scrollbarXActive?r.add(e,"ps-active-x"):(r.remove(e,"ps-active-x"),n.scrollbarXWidth=0,n.scrollbarXLeft=0,s(e,"left",0)),n.scrollbarYActive?r.add(e,"ps-active-y"):(r.remove(e,"ps-active-y"),n.scrollbarYHeight=0,n.scrollbarYTop=0,s(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,n){"use strict";var i,a,r=e("./instances"),o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};t.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(o("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(o("ps-x-reach-start")));var l=r.get(e);"top"===t&&n>=l.contentHeight-l.containerHeight&&((n=l.contentHeight-l.containerHeight)-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(o("ps-y-reach-end"))),"left"===t&&n>=l.contentWidth-l.containerWidth&&((n=l.contentWidth-l.containerWidth)-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(o("ps-x-reach-end"))),i||(i=e.scrollTop),a||(a=e.scrollLeft),"top"===t&&n<i&&e.dispatchEvent(o("ps-scroll-up")),"top"===t&&n>i&&e.dispatchEvent(o("ps-scroll-down")),"left"===t&&n<a&&e.dispatchEvent(o("ps-scroll-left")),"left"===t&&n>a&&e.dispatchEvent(o("ps-scroll-right")),"top"===t&&(e.scrollTop=i=n,e.dispatchEvent(o("ps-scroll-y"))),"left"===t&&(e.scrollLeft=a=n,e.dispatchEvent(o("ps-scroll-x")))}},{"./instances":18}],21:[function(e,t,n){"use strict";var i=e("../lib/helper"),a=e("../lib/dom"),r=e("./instances"),o=e("./update-geometry"),l=e("./update-scroll");t.exports=function(e){var t=r.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,a.css(t.scrollbarXRail,"display","block"),a.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=i.toInt(a.css(t.scrollbarXRail,"marginLeft"))+i.toInt(a.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=i.toInt(a.css(t.scrollbarYRail,"marginTop"))+i.toInt(a.css(t.scrollbarYRail,"marginBottom")),a.css(t.scrollbarXRail,"display","none"),a.css(t.scrollbarYRail,"display","none"),o(e),l(e,"top",e.scrollTop),l(e,"left",e.scrollLeft),a.css(t.scrollbarXRail,"display",""),a.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.store=t()}(this,(function(){var e,t={},n=window,i=n.document,a="localStorage",r="script";if(t.disabled=!1,t.version="1.3.19",t.set=function(e,t){},t.get=function(e,t){},t.has=function(e){return void 0!==t.get(e)},t.remove=function(e){},t.clear=function(){},t.transact=function(e,n,i){null==i&&(i=n,n=null),null==n&&(n={});var a=t.get(e,n);i(a),t.set(e,a)},t.getAll=function(){},t.forEach=function(){},t.serialize=function(e){return JSON.stringify(e)},t.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return a in n&&n[a]}catch(e){return!1}}())e=n[a],t.set=function(n,i){return void 0===i?t.remove(n):(e.setItem(n,t.serialize(i)),i)},t.get=function(n,i){var a=t.deserialize(e.getItem(n));return void 0===a?i:a},t.remove=function(t){e.removeItem(t)},t.clear=function(){e.clear()},t.getAll=function(){var e={};return t.forEach((function(t,n){e[t]=n})),e},t.forEach=function(n){for(var i=0;i<e.length;i++){var a=e.key(i);n(a,t.get(a))}};else if(i.documentElement.addBehavior){var o,l;try{(l=new ActiveXObject("htmlfile")).open(),l.write("<"+r+">document.w=window</"+r+'><iframe src="/favicon.ico"></iframe>'),l.close(),o=l.w.frames[0].document,e=o.createElement("div")}catch(t){e=i.createElement("div"),o=i.body}var s=function(n){return function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(e),o.appendChild(e),e.addBehavior("#default#userData"),e.load(a);var r=n.apply(t,i);return o.removeChild(e),r}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(c,"___")};t.set=s((function(e,n,i){return n=d(n),void 0===i?t.remove(n):(e.setAttribute(n,t.serialize(i)),e.save(a),i)})),t.get=s((function(e,n,i){n=d(n);var a=t.deserialize(e.getAttribute(n));return void 0===a?i:a})),t.remove=s((function(e,t){t=d(t),e.removeAttribute(t),e.save(a)})),t.clear=s((function(e){var t=e.XMLDocument.documentElement.attributes;for(e.load(a);t.length;)e.removeAttribute(t[0].name);e.save(a)})),t.getAll=function(e){var n={};return t.forEach((function(e,t){n[e]=t})),n},t.forEach=s((function(e,n){for(var i,a=e.XMLDocument.documentElement.attributes,r=0;i=a[r];++r)n(i.name,t.deserialize(e.getAttribute(i.name)))}))}try{var u="__storejs__";t.set(u,u),t.get(u)!=u&&(t.disabled=!0),t.remove(u)}catch(e){t.disabled=!0}return t.enabled=!t.disabled,t})),function(e){var t=/iPhone/i,n=/iPod/i,i=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,r=/Android/i,o=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,s=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,d=/BlackBerry/i,u=/BB10/i,h=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=/UC.*Browser|UCWEB/i,g=/AppleTV/i,v=/(GoogleTV|CrKey)/i,b=/(SmartTV|SMART-TV|Tizen(.*TV))/i,y=/(Sony(.*TV)|TV(.*Sony))/i,L=/(LG(.*NetCast))/i,w=/TSB(.*TV)/i,T=/Viera/i,x=/(HbbTV|Espial|NETTV|TV(.*HDMI))/i,S=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),E=function(e,t){return e.test(t)},k=function(e){var k=e||navigator.userAgent,A=k.split("[FBAN");if(void 0!==A[1]&&(k=A[0]),this.apple={phone:E(t,k),ipod:E(n,k),tablet:!E(t,k)&&E(i,k),device:E(t,k)||E(n,k)||E(i,k)},this.amazon={phone:E(o,k),tablet:!E(o,k)&&E(l,k),device:E(o,k)||E(l,k)},this.android={phone:E(o,k)||E(a,k),tablet:!E(o,k)&&!E(a,k)&&(E(l,k)||E(r,k)),device:E(o,k)||E(l,k)||E(a,k)||E(r,k)},this.windows={phone:E(s,k),tablet:E(c,k),device:E(s,k)||E(c,k)},this.tvu={apple:E(g,k),google:E(v,k),samsung:E(b,k),sony:E(y,k),lg:E(L,k),toshiba:E(w,k),panasonic:E(T,k),other:E(x,k)},this.other={blackberry:E(d,k),blackberry10:E(u,k),opera:E(h,k),firefox:E(p,k),chrome:E(f,k),uc:E(m,k),device:E(d,k)||E(u,k)||E(h,k)||E(p,k)||E(f,k)},this.seven_inch=E(S,k),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,this.tv=this.tvu.apple||this.tvu.google||this.tvu.samsung||this.tvu.sony||this.tvu.lg||this.tvu.toshiba||this.tvu.panasonic||this.tvu.other,"undefined"==typeof window)return this},A=function(){var e=new k;return e.Class=k,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=k:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=A():"function"==typeof define&&define.amd?define("ismobile",[],e.ismobile=A()):e.ismobile=A()}(this),function(){"use strict";function e(){var e={parent:document.body,version:"1.0.11",defaultOkLabel:"Ok",okLabel:"Ok",defaultCancelLabel:"Cancel",cancelLabel:"Cancel",defaultMaxLogItems:2,maxLogItems:2,promptValue:"",promptPlaceholder:"",closeLogOnClick:!1,closeLogOnClickDefault:!1,delay:5e3,defaultDelay:5e3,logContainerClass:"alertify-logs",logContainerDefaultClass:"alertify-logs",dialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},defaultDialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},build:function(e){var t=this.dialogs.buttons.ok,n="<div class='dialog'><div>"+this.dialogs.message.replace("{{message}}",e.message);return"confirm"!==e.type&&"prompt"!==e.type||(t=this.dialogs.buttons.cancel+this.dialogs.buttons.ok),"prompt"===e.type&&(n+=this.dialogs.input),(n+this.dialogs.buttons.holder+"</div></div>").replace("{{buttons}}",t).replace("{{ok}}",this.okLabel).replace("{{cancel}}",this.cancelLabel)},setCloseLogOnClick:function(e){this.closeLogOnClick=!!e},close:function(e,n){this.closeLogOnClick&&e.addEventListener("click",(function(){t(e)})),0>(n=n&&!isNaN(+n)?+n:this.delay)?t(e):n>0&&setTimeout((function(){t(e)}),n)},dialog:function(e,t,n,i){return this.setup({type:t,message:e,onOkay:n,onCancel:i})},log:function(e,t,n){var i=document.querySelectorAll(".alertify-logs > div");if(i){var a=i.length-this.maxLogItems;if(a>=0)for(var r=0,o=a+1;o>r;r++)this.close(i[r],-1)}this.notify(e,t,n)},setLogPosition:function(e){this.logContainerClass="alertify-logs "+e},setupLogContainer:function(){var e=document.querySelector(".alertify-logs"),t=this.logContainerClass;return e||((e=document.createElement("div")).className=t,this.parent.appendChild(e)),e.className!==t&&(e.className=t),e},notify:function(t,n,i){var a=this.setupLogContainer(),r=document.createElement("div");r.className=n||"default",e.logTemplateMethod?r.innerHTML=e.logTemplateMethod(t):r.innerHTML=t,"function"==typeof i&&r.addEventListener("click",i),a.appendChild(r),setTimeout((function(){r.className+=" show"}),10),this.close(r,this.delay)},setup:function(e){function n(n){"function"!=typeof n&&(n=function(){}),r&&r.addEventListener("click",(function(a){e.onOkay&&"function"==typeof e.onOkay&&(l?e.onOkay(l.value,a):e.onOkay(a)),n(l?{buttonClicked:"ok",inputValue:l.value,event:a}:{buttonClicked:"ok",event:a}),t(i)})),o&&o.addEventListener("click",(function(a){e.onCancel&&"function"==typeof e.onCancel&&e.onCancel(a),n({buttonClicked:"cancel",event:a}),t(i)})),l&&l.addEventListener("keyup",(function(e){13===e.which&&r.click()}))}var i=document.createElement("div");i.className="alertify hide",i.innerHTML=this.build(e);var a,r=i.querySelector(".ok"),o=i.querySelector(".cancel"),l=i.querySelector("input"),s=i.querySelector("label");return l&&("string"==typeof this.promptPlaceholder&&(s?s.textContent=this.promptPlaceholder:l.placeholder=this.promptPlaceholder),"string"==typeof this.promptValue&&(l.value=this.promptValue)),"function"==typeof Promise?a=new Promise(n):n(),this.parent.appendChild(i),setTimeout((function(){i.classList.remove("hide"),l&&e.type&&"prompt"===e.type?(l.select(),l.focus()):r&&r.focus()}),100),a},okBtn:function(e){return this.okLabel=e,this},setDelay:function(e){return e=e||0,this.delay=isNaN(e)?this.defaultDelay:parseInt(e,10),this},cancelBtn:function(e){return this.cancelLabel=e,this},setMaxLogItems:function(e){this.maxLogItems=parseInt(e||this.defaultMaxLogItems)},theme:function(e){switch(e.toLowerCase()){case"bootstrap":this.dialogs.buttons.ok="<button class='ok btn btn-primary' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel btn btn-default' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<input type='text' class='form-control'>";break;case"purecss":this.dialogs.buttons.ok="<button class='ok pure-button' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel pure-button' tabindex='2'>{{cancel}}</button>";break;case"mdl":case"material-design-light":this.dialogs.buttons.ok="<button class='ok mdl-button mdl-js-button mdl-js-ripple-effect'  tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel mdl-button mdl-js-button mdl-js-ripple-effect' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<div class='mdl-textfield mdl-js-textfield'><input class='mdl-textfield__input'><label class='md-textfield__label'></label></div>";break;case"angular-material":this.dialogs.buttons.ok="<button class='ok md-primary md-button' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel md-button' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<div layout='column'><md-input-container md-no-float><input type='text'></md-input-container></div>";break;default:this.dialogs.buttons.ok=this.defaultDialogs.buttons.ok,this.dialogs.buttons.cancel=this.defaultDialogs.buttons.cancel,this.dialogs.input=this.defaultDialogs.input}},reset:function(){this.parent=document.body,this.theme("default"),this.okBtn(this.defaultOkLabel),this.cancelBtn(this.defaultCancelLabel),this.setMaxLogItems(),this.promptValue="",this.promptPlaceholder="",this.delay=this.defaultDelay,this.setCloseLogOnClick(this.closeLogOnClickDefault),this.setLogPosition("bottom left"),this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.id="alertifyCSS",t.innerHTML=".alertify-logs>*{padding:12px 24px;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);border-radius:1px}.alertify-logs>*,.alertify-logs>.default{background:rgba(0,0,0,.8)}.alertify-logs>.error{background:rgba(244,67,54,.8)}.alertify-logs>.success{background:rgba(76,175,80,.9)}.alertify{position:fixed;background-color:rgba(0,0,0,.3);left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:1}.alertify.hide{opacity:0;pointer-events:none}.alertify,.alertify.show{box-sizing:border-box;transition:all .33s cubic-bezier(.25,.8,.25,1)}.alertify,.alertify *{box-sizing:border-box}.alertify .dialog{padding:12px}.alertify .alert,.alertify .dialog{width:100%;margin:0 auto;position:relative;top:50%;transform:translateY(-50%)}.alertify .alert>*,.alertify .dialog>*{width:400px;max-width:95%;margin:0 auto;text-align:center;padding:12px;background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.14),0 4px 5px 0 rgba(0,0,0,.098),0 1px 10px 0 rgba(0,0,0,.084)}.alertify .alert .msg,.alertify .dialog .msg{padding:12px;margin-bottom:12px;margin:0;text-align:left}.alertify .alert input:not(.form-control),.alertify .dialog input:not(.form-control){margin-bottom:15px;width:100%;font-size:100%;padding:12px}.alertify .alert input:not(.form-control):focus,.alertify .dialog input:not(.form-control):focus{outline-offset:-2px}.alertify .alert nav,.alertify .dialog nav{text-align:right}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button),.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button){background:transparent;box-sizing:border-box;color:rgba(0,0,0,.87);position:relative;outline:0;border:0;display:inline-block;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;padding:0 6px;margin:6px 8px;line-height:36px;min-height:36px;white-space:nowrap;min-width:88px;text-align:center;text-transform:uppercase;font-size:14px;text-decoration:none;cursor:pointer;border:1px solid transparent;border-radius:2px}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover{background-color:rgba(0,0,0,.05)}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus{border:1px solid rgba(0,0,0,.1)}.alertify .alert nav button.btn,.alertify .dialog nav button.btn{margin:6px 4px}.alertify-logs{position:fixed;z-index:1}.alertify-logs.bottom,.alertify-logs:not(.top){bottom:16px}.alertify-logs.left,.alertify-logs:not(.right){left:16px}.alertify-logs.left>*,.alertify-logs:not(.right)>*{float:left;transform:translateZ(0);height:auto}.alertify-logs.left>.show,.alertify-logs:not(.right)>.show{left:0}.alertify-logs.left>*,.alertify-logs.left>.hide,.alertify-logs:not(.right)>*,.alertify-logs:not(.right)>.hide{left:-110%}.alertify-logs.right{right:16px}.alertify-logs.right>*{float:right;transform:translateZ(0)}.alertify-logs.right>.show{right:0;opacity:1}.alertify-logs.right>*,.alertify-logs.right>.hide{right:-110%;opacity:0}.alertify-logs.top{top:0}.alertify-logs>*{box-sizing:border-box;transition:all .4s cubic-bezier(.25,.8,.25,1);position:relative;clear:both;backface-visibility:hidden;perspective:1000;max-height:0;margin:0;padding:0;overflow:hidden;opacity:0;pointer-events:none}.alertify-logs>.show{margin-top:12px;opacity:1;max-height:1000px;padding:12px;pointer-events:auto}",e.insertBefore(t,e.firstChild)}},removeCSS:function(){var e=document.querySelector("#alertifyCSS");e&&e.parentNode&&e.parentNode.removeChild(e)}};return e.injectCSS(),{_$$alertify:e,parent:function(t){e.parent=t},reset:function(){return e.reset(),this},alert:function(t,n,i){return e.dialog(t,"alert",n,i)||this},confirm:function(t,n,i){return e.dialog(t,"confirm",n,i)||this},prompt:function(t,n,i){return e.dialog(t,"prompt",n,i)||this},log:function(t,n){return e.log(t,"default",n),this},theme:function(t){return e.theme(t),this},success:function(t,n){return e.log(t,"success",n),this},error:function(t,n){return e.log(t,"error",n),this},cancelBtn:function(t){return e.cancelBtn(t),this},okBtn:function(t){return e.okBtn(t),this},delay:function(t){return e.setDelay(t),this},placeholder:function(t){return e.promptPlaceholder=t,this},defaultValue:function(t){return e.promptValue=t,this},maxLogItems:function(t){return e.setMaxLogItems(t),this},closeLogOnClick:function(t){return e.setCloseLogOnClick(!!t),this},logPosition:function(t){return e.setLogPosition(t||""),this},setLogTemplate:function(t){return e.logTemplateMethod=t,this},clearLogs:function(){return e.setupLogContainer().innerHTML="",this},version:e.version}}var t=function(e){if(e){var t=function(){e&&e.parentNode&&e.parentNode.removeChild(e)};e.classList.remove("show"),e.classList.add("hide"),e.addEventListener("transitionend",t),setTimeout(t,500)}};if("undefined"!=typeof module&&module&&module.exports){module.exports=function(){return new e};var n=new e;for(var i in n)module.exports[i]=n[i]}else"function"==typeof define&&define.amd?define((function(){return new e})):window.alertify=new e}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Mark=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var r=function(){function e(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;t(this,e),this.ctx=n,this.iframes=i,this.exclude=a,this.iframesTimeout=r}return i(e,[{key:"getContexts",value:function(){var e=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(t){var n=e.filter((function(e){return e.contains(t)})).length>0;-1!==e.indexOf(t)||n||e.push(t)})),e}},{key:"getIframeContents",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{var a=e.contentWindow;if(n=a.document,!a||!n)throw new Error("iframe inaccessible")}catch(e){i()}n&&t(n)}},{key:"isIframeBlank",value:function(e){var t="about:blank",n=e.getAttribute("src").trim();return e.contentWindow.location.href===t&&n!==t&&n}},{key:"observeIframeLoad",value:function(e,t,n){var i=this,a=!1,r=null,o=function o(){if(!a){a=!0,clearTimeout(r);try{i.isIframeBlank(e)||(e.removeEventListener("load",o),i.getIframeContents(e,t,n))}catch(e){n()}}};e.addEventListener("load",o),r=setTimeout(o,this.iframesTimeout)}},{key:"onIframeReady",value:function(e,t,n){try{"complete"===e.contentWindow.document.readyState?this.isIframeBlank(e)?this.observeIframeLoad(e,t,n):this.getIframeContents(e,t,n):this.observeIframeLoad(e,t,n)}catch(e){n()}}},{key:"waitForIframes",value:function(e,t){var n=this,i=0;this.forEachIframe(e,(function(){return!0}),(function(e){i++,n.waitForIframes(e.querySelector("html"),(function(){--i||t()}))}),(function(e){e||t()}))}},{key:"forEachIframe",value:function(t,n,i){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=t.querySelectorAll("iframe"),l=o.length,s=0;o=Array.prototype.slice.call(o);var c=function(){--l<=0&&r(s)};l||c(),o.forEach((function(t){e.matches(t,a.exclude)?c():a.onIframeReady(t,(function(e){n(t)&&(s++,i(e)),c()}),c)}))}},{key:"createIterator",value:function(e,t,n){return document.createNodeIterator(e,t,n,!1)}},{key:"createInstanceOnIframe",value:function(t){return new e(t.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(e,t,n){if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===t)return!0;if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(e){var t=e.previousNode();return{prevNode:t,node:(null===t||e.nextNode())&&e.nextNode()}}},{key:"checkIframeFilter",value:function(e,t,n,i){var a=!1,r=!1;return i.forEach((function(e,t){e.val===n&&(a=t,r=e.handled)})),this.compareNodeIframe(e,t,n)?(!1!==a||r?!1===a||r||(i[a].handled=!0):i.push({val:n,handled:!0}),!0):(!1===a&&i.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(e,t,n,i){var a=this;e.forEach((function(e){e.handled||a.getIframeContents(e.val,(function(e){a.createInstanceOnIframe(e).forEachNode(t,n,i)}))}))}},{key:"iterateThroughNodes",value:function(e,t,n,i,a){for(var r,o,l,s=this,c=this.createIterator(t,e,i),d=[],u=[];void 0,l=s.getIteratorNode(c),o=l.prevNode,r=l.node;)this.iframes&&this.forEachIframe(t,(function(e){return s.checkIframeFilter(r,o,e,d)}),(function(t){s.createInstanceOnIframe(t).forEachNode(e,(function(e){return u.push(e)}),i)})),u.push(r);u.forEach((function(e){n(e)})),this.iframes&&this.handleOpenIframes(d,e,n,i),a()}},{key:"forEachNode",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=this.getContexts(),o=r.length;o||a(),r.forEach((function(r){var l=function(){i.iterateThroughNodes(e,r,t,n,(function(){--o<=0&&a()}))};i.iframes?i.waitForIframes(r,l):l()}))}}],[{key:"matches",value:function(e,t){var n="string"==typeof t?[t]:t,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(i){var a=!1;return n.every((function(t){return!i.call(e,t)||(a=!0,!1)})),a}return!1}}]),e}(),o=function(){function e(n){t(this,e),this.opt=a({},{diacritics:!0,synonyms:{},accuracy:"partially",caseSensitive:!1,ignoreJoiners:!1,ignorePunctuation:[],wildcards:"disabled"},n)}return i(e,[{key:"create",value:function(e){return"disabled"!==this.opt.wildcards&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),"disabled"!==this.opt.wildcards&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e),new RegExp(e,"gm".concat(this.opt.caseSensitive?"":"i"))}},{key:"sortByLength",value:function(e){return e.sort((function(e,t){return e.length===t.length?e>t?1:-1:t.length-e.length}))}},{key:"escapeStr",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createSynonymsRegExp",value:function(e){var t=this,n=this.opt.synonyms,i=this.opt.caseSensitive?"":"i",a=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var r in n)if(n.hasOwnProperty(r)){var o=Array.isArray(n[r])?n[r]:[n[r]];o.unshift(r),(o=this.sortByLength(o).map((function(e){return"disabled"!==t.opt.wildcards&&(e=t.setupWildcardsRegExp(e)),t.escapeStr(e)})).filter((function(e){return""!==e}))).length>1&&(e=e.replace(new RegExp("(".concat(o.map((function(e){return t.escapeStr(e)})).join("|"),")"),"gm".concat(i)),a+"(".concat(o.map((function(e){return t.processSynonyms(e)})).join("|"),")")+a))}return e}},{key:"processSynonyms",value:function(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}},{key:"setupWildcardsRegExp",value:function(e){return(e=e.replace(/(?:\\)*\?/g,(function(e){return"\\"===e.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(e){return"\\"===e.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(e){var t="withSpaces"===this.opt.wildcards;return e.replace(/\u0001/g,t?"[\\S\\s]?":"\\S?").replace(/\u0002/g,t?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(e){return e.replace(/[^(|)\\]/g,(function(e,t,n){var i=n.charAt(t+1);return/[(|)\\]/.test(i)||""===i?e:e+"\0"}))}},{key:"createJoinersRegExp",value:function(e){var t=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&t.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&t.push("\\u00ad\\u200b\\u200c\\u200d"),t.length?e.split(/\u0000+/).join("[".concat(t.join(""),"]*")):e}},{key:"createDiacriticsRegExp",value:function(e){var t=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],i=[];return e.split("").forEach((function(a){n.every((function(n){if(-1!==n.indexOf(a)){if(i.indexOf(n)>-1)return!1;e=e.replace(new RegExp("[".concat(n,"]"),"gm".concat(t)),"[".concat(n,"]")),i.push(n)}return!0}))})),e}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(e){var t=this,n=this.opt.accuracy,i="string"==typeof n?n:n.value,a="string"==typeof n?[]:n.limiters,r="";switch(a.forEach((function(e){r+="|".concat(t.escapeStr(e))})),i){case"partially":default:return"()(".concat(e,")");case"complementary":return r="\\s"+(r||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")),"()([^".concat(r,"]*").concat(e,"[^").concat(r,"]*)");case"exactly":return"(^|\\s".concat(r,")(").concat(e,")(?=$|\\s").concat(r,")")}}}]),e}(),l=function(){function n(e){t(this,n),this.ctx=e,this.ie=!1;var i=window.navigator.userAgent;(i.indexOf("MSIE")>-1||i.indexOf("Trident")>-1)&&(this.ie=!0)}return i(n,[{key:"log",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",i=this.opt.log;this.opt.debug&&"object"===e(i)&&"function"==typeof i[n]&&i[n]("mark.js: ".concat(t))}},{key:"getSeparatedKeywords",value:function(e){var t=this,n=[];return e.forEach((function(e){t.opt.separateWordSearch?e.split(" ").forEach((function(e){e.trim()&&-1===n.indexOf(e)&&n.push(e)})):e.trim()&&-1===n.indexOf(e)&&n.push(e)})),{keywords:n.sort((function(e,t){return t.length-e.length})),length:n.length}}},{key:"isNumeric",value:function(e){return Number(parseFloat(e))==e}},{key:"checkRanges",value:function(e){var t=this;if(!Array.isArray(e)||"[object Object]"!==Object.prototype.toString.call(e[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];var n=[],i=0;return e.sort((function(e,t){return e.start-t.start})).forEach((function(e){var a=t.callNoMatchOnInvalidRanges(e,i),r=a.start,o=a.end;a.valid&&(e.start=r,e.length=o-r,n.push(e),i=o)})),n}},{key:"callNoMatchOnInvalidRanges",value:function(e,t){var n,i,a=!1;return e&&void 0!==e.start?(i=(n=parseInt(e.start,10))+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&i-t>0&&i-n>0?a=!0:(this.log("Ignoring invalid or overlapping range: "+"".concat(JSON.stringify(e))),this.opt.noMatch(e))):(this.log("Ignoring invalid range: ".concat(JSON.stringify(e))),this.opt.noMatch(e)),{start:n,end:i,valid:a}}},{key:"checkWhitespaceRanges",value:function(e,t,n){var i,a=!0,r=n.length,o=t-r,l=parseInt(e.start,10)-o;return(i=(l=l>r?r:l)+parseInt(e.length,10))>r&&(i=r,this.log("End range automatically set to the max value of ".concat(r))),l<0||i-l<0||l>r||i>r?(a=!1,this.log("Invalid range: ".concat(JSON.stringify(e))),this.opt.noMatch(e)):""===n.substring(l,i).replace(/\s+/g,"")&&(a=!1,this.log("Skipping whitespace only range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:l,end:i,valid:a}}},{key:"getTextNodes",value:function(e){var t=this,n="",i=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(e){i.push({start:n.length,end:(n+=e.textContent).length,node:e})}),(function(e){return t.matchesExclude(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){e({value:n,nodes:i})}))}},{key:"matchesExclude",value:function(e){return r.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(e,t,n){var i=this.opt.element?this.opt.element:"mark",a=e.splitText(t),r=a.splitText(n-t),o=document.createElement(i);return o.setAttribute("data-markjs","true"),this.opt.className&&o.setAttribute("class",this.opt.className),o.textContent=a.textContent,a.parentNode.replaceChild(o,a),r}},{key:"wrapRangeInMappedTextNode",value:function(e,t,n,i,a){var r=this;e.nodes.every((function(o,l){var s=e.nodes[l+1];if(void 0===s||s.start>t){if(!i(o.node))return!1;var c=t-o.start,d=(n>o.end?o.end:n)-o.start,u=e.value.substr(0,o.start),h=e.value.substr(d+o.start);if(o.node=r.wrapRangeInTextNode(o.node,c,d),e.value=u+h,e.nodes.forEach((function(t,n){n>=l&&(e.nodes[n].start>0&&n!==l&&(e.nodes[n].start-=d),e.nodes[n].end-=d)})),n-=d,a(o.node.previousSibling,o.start),!(n>o.end))return!1;t=o.end}return!0}))}},{key:"wrapGroups",value:function(e,t,n,i){return i((e=this.wrapRangeInTextNode(e,t,t+n)).previousSibling),e}},{key:"separateGroups",value:function(e,t,n,i,a){for(var r=t.length,o=1;o<r;o++){var l=e.textContent.indexOf(t[o]);t[o]&&l>-1&&i(t[o],e)&&(e=this.wrapGroups(e,l,t[o].length,a))}return e}},{key:"wrapMatches",value:function(e,t,n,i,a){var r=this,o=0===t?0:t+1;this.getTextNodes((function(t){t.nodes.forEach((function(t){var a;for(t=t.node;null!==(a=e.exec(t.textContent))&&""!==a[o];){if(r.opt.separateGroups)t=r.separateGroups(t,a,o,n,i);else{if(!n(a[o],t))continue;var l=a.index;if(0!==o)for(var s=1;s<o;s++)l+=a[s].length;t=r.wrapGroups(t,l,a[o].length,i)}e.lastIndex=0}})),a()}))}},{key:"wrapMatchesAcrossElements",value:function(e,t,n,i,a){var r=this,o=0===t?0:t+1;this.getTextNodes((function(t){for(var l;null!==(l=e.exec(t.value))&&""!==l[o];){var s=l.index;if(0!==o)for(var c=1;c<o;c++)s+=l[c].length;var d=s+l[o].length;r.wrapRangeInMappedTextNode(t,s,d,(function(e){return n(l[o],e)}),(function(t,n){e.lastIndex=n,i(t)}))}a()}))}},{key:"wrapRangeFromIndex",value:function(e,t,n,i){var a=this;this.getTextNodes((function(r){var o=r.value.length;e.forEach((function(e,i){var l=a.checkWhitespaceRanges(e,o,r.value),s=l.start,c=l.end;l.valid&&a.wrapRangeInMappedTextNode(r,s,c,(function(n){return t(n,e,r.value.substring(s,c),i)}),(function(t){n(t,e)}))})),i()}))}},{key:"unwrapMatches",value:function(e){for(var t=e.parentNode,n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.removeChild(e.firstChild));t.replaceChild(n,e),this.ie?this.normalizeTextNode(t):t.normalize()}},{key:"normalizeTextNode",value:function(e){if(e){if(3===e.nodeType)for(;e.nextSibling&&3===e.nextSibling.nodeType;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}},{key:"markRegExp",value:function(e,t){var n=this;this.opt=t,this.log('Searching with expression "'.concat(e,'"'));var i=0,a="wrapMatches";this.opt.acrossElements&&(a="wrapMatchesAcrossElements"),this[a](e,this.opt.ignoreGroups,(function(e,t){return n.opt.filter(t,e,i)}),(function(e){i++,n.opt.each(e)}),(function(){0===i&&n.opt.noMatch(e),n.opt.done(i)}))}},{key:"mark",value:function(e,t){var n=this;this.opt=t;var i=0,a="wrapMatches",r=this.getSeparatedKeywords("string"==typeof e?[e]:e),l=r.keywords,s=r.length;this.opt.acrossElements&&(a="wrapMatchesAcrossElements"),0===s?this.opt.done(i):function e(t){var r=new o(n.opt).create(t),c=0;n.log('Searching with expression "'.concat(r,'"')),n[a](r,1,(function(e,a){return n.opt.filter(a,t,i,c)}),(function(e){c++,i++,n.opt.each(e)}),(function(){0===c&&n.opt.noMatch(t),l[s-1]===t?n.opt.done(i):e(l[l.indexOf(t)+1])}))}(l[0])}},{key:"markRanges",value:function(e,t){var n=this;this.opt=t;var i=0,a=this.checkRanges(e);a&&a.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(a)),this.wrapRangeFromIndex(a,(function(e,t,i,a){return n.opt.filter(e,t,i,a)}),(function(e,t){i++,n.opt.each(e,t)}),(function(){n.opt.done(i)}))):this.opt.done(i)}},{key:"unmark",value:function(e){var t=this;this.opt=e;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+=".".concat(this.opt.className)),this.log('Removal selector "'.concat(n,'"')),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(e){t.unwrapMatches(e)}),(function(e){var i=r.matches(e,n),a=t.matchesExclude(e);return!i||a?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(e){this._opt=a({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,acrossElements:!1,ignoreGroups:0,each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},e)},get:function(){return this._opt}},{key:"iterator",get:function(){return new r(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),n}();return function(e){var t=this,n=new l(e);return this.mark=function(e,i){return n.mark(e,i),t},this.markRegExp=function(e,i){return n.markRegExp(e,i),t},this.markRanges=function(e,i){return n.markRanges(e,i),t},this.unmark=function(e){return n.unmark(e),t},this}}));var url="",api="",token=document.querySelector("#token").getAttribute("value"),isLoggedIn=!1,isVIP=!1,userId=null,userDate=null,lockAPI={};try{url=window.location.origin}catch(e){try{url=window.location.protocol+"//"+window.location.host}catch(e){url=window.location.href.split("/")[0]+"//"+window.location.host}}api=url+"/api/v2";try{if(userId=document.querySelector("#user-id").value){isLoggedIn=!0;try{document.querySelector("#user-vip").value&&(isVIP=!0)}catch(e){}try{userDate=document.querySelector("#user-date").value}catch(e){}}}catch(e){}for(var _GLOBAL={_URL:url,_API:api,_TOKEN:token,_IS_LOGGED_IN:isLoggedIn,_IS_VIP:isVIP,_USER_ID:userId,_USER_DATE:userDate},imgDefer=document.getElementsByTagName("img"),i=0;i<imgDefer.length;i++)imgDefer[i].getAttribute("data-src")&&imgDefer[i].setAttribute("src",imgDefer[i].getAttribute("data-src"));try{getElement(".page-preload").classList.add("hidden")}catch(e){}if(!_GLOBAL._IS_VIP){try{var mobileInflow=getElement(".banner-inflow"),mobileInflowClose=getElement(".banner-inflow-close");mobileInflow.classList.remove("hidden"),mobileInflowClose.onclick=function(){mobileInflow.classList.add("hidden")}}catch(e){}setTimeout((function(){try{for(var e=getAllElements(".ff-banner"),t=0;t<e.length;t++)e[t].classList.add("hidden")}catch(e){}}),12e4)}function sendAjax(e,t,n){var i=new XMLHttpRequest;return i.open(e,t),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/json"),"GET"!=e&&i.setRequestHeader("X-CSRF-TOKEN",_GLOBAL._TOKEN),i.withCredentials=!0,n?i.send(JSON.stringify(n)):i.send(),i}function getElement(e){return document.querySelector(e)}function getAllElements(e){return document.querySelectorAll(e)}function createElement(e,t,n,i,a){var r=document.createElement(t);if(r.className=n,r.identity=e,i||(i={}),a)for(var o=0;o<a.length;o++)r.setAttribute(a[o].identity,a[o].value);if(i.innerHTML&&(r.innerHTML=i.innerHTML),i.childrens)for(o=0;o<i.childrens.length;o++){var l=createElement(i.childrens[o].identity,i.childrens[o].tag,i.childrens[o].className,i.childrens[o].options,i.childrens[o].properties);r.appendChild(l),r[i.childrens[o].identity]=l}return r}function createElementByJs(e,t,n,i,a){var r=document.createElement(t);if(r.className=n,r.identity=e,i||(i={}),a)for(var o=0;o<a.length;o++)r.setAttribute(a[o].identity,a[o].value);if(i.innerHTML&&(r.innerHTML=i.innerHTML),i.childrens)for(o=0;o<i.childrens.length;o++){var l=createElementByJs(i.childrens[o].identity,i.childrens[o].tag,i.childrens[o].className,i.childrens[o].options,i.childrens[o].properties);r.appendChild(l),r[i.childrens[o].identity]=l}return r}function removeElement(e){try{e.parentNode.removeChild(e)}catch(e){}}function checkAllowCountry(e){return-1==["SG","US","GB","IN"].indexOf(e)}function showLoginForm(){alertify.confirm("Chức năng này chỉ dành cho thành viên đã đăng nhập",(function(){try{activeNavbarRight()}catch(e){}}))}function getPlayerNotice(e,t){var n="";return e<2&&(n="chưa có HD "),3==t?n+="chỉ có Engsub (phụ đề tiếng Anh), bạn có muốn xem?":((t>4||t<0)&&(n+="chưa có phụ đề, bạn có muốn xem?"),n)}function getTimeAgo(e){var t=e.substring(0,10);e=new Date(e).getTime();var n=((new Date).getTime()-e)/1e3;return n>2592e3?(t=t.split("-"))[2]+"-"+t[1]+"-"+t[0]:n>604800?Math.floor(n/604800)+" tuần trước":n>86400?Math.floor(n/86400)+" ngày trước":n>3600?Math.floor(n/3600)+" giờ trước":n>60?Math.floor(n/60)+" phút trước":Math.floor(n)+" giây trước"}function formatNumber(e){return e<1e3?e:e<1e6?(e/1e3).toFixed(1)+"K":(e/1e6).toFixed(1)+"M"}function fomratDuration(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),i=Math.floor(e%60);return n<10&&(n="0"+n),i<10&&(i="0"+i),t?t+":"+n+":"+i:n+":"+i}function getPageYOffset(){try{return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}catch(e){return 0}}function getScrollPageType(){try{return document.body.scrollTop>0?1:2}catch(e){}return 0}function scrollTo(e,t,n){if(!(n<=0)){var i=(t-e.scrollTop)/n*10;setTimeout((function(){e.scrollTop=e.scrollTop+i,e.scrollTop!=t&&scrollTo(e,t,n-10)}),10)}}function scrollPageTo(e,t){try{return void(document.body.scrollTop>0?scrollTo(document.body,e,t):scrollTo(document.documentElement,e,t))}catch(e){}window.scrollTo(0,e)}function getRandom(e,t){return Math.floor(Math.random()*(t-e+1))+e}function encodeString(e,t){var n="";e.toString();for(var i=0;i<e.length;i++){var a=e.charCodeAt(i)^t;n+=String.fromCharCode(a)}return n}function shuffle(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n);var i=e[--n];e[n]=e[t],e[t]=i}return e}function setFilmItem(e,t){t||(t={});var n=document.createElement("div");n.className="tray-item";var i='<div class="tray-film-likes">';e.is_movie?i+=e.time:i+=e.meta.max_episode_name+" / "+e.time,i+="</div>";var a="";e.upcoming&&(a='<div class="tray-item-upcoming">SẮP CHIẾU</div>');var r="";0!=e.imdb&&(r='<span class="tray-item-point"><i class="icon-star"></i> '+e.imdb+"/10</span>");var o='<span class="tray-item-quality">CAM</span>';e.quality>4?o=o.replace("CAM","HDRip"):e.quality>3&&(o=o.replace("CAM","Bluray")),e.quality>2?o=o.replace("CAM","FHD"):e.quality>1?o=o.replace("CAM","HD"):e.quality,o=o.replace("CAM","SD");var l='<div class="tray-item-audio">Raw - Nosub</div>';e.audio?e.audio>3?l=l.replace("Raw - Nosub","Viet-Engsub"):e.audio>2?l=l.replace("Raw - Nosub","Engsub"):e.audio>1?l=l.replace("Raw - Nosub","Lồng tiếng"):e.audio>0&&(l=l.replace("Raw - Nosub","Thuyết minh")):l=l.replace("Raw - Nosub","Vietsub");var s='<div class="tray-item-trailer" data-id="'+e.id+'" title="Xem trailer"><i class="icon-youtube"></i></div>',c='<a href="/'+e.slug+'"><img class="tray-item-thumbnail" src="'+e.thumbnail+'"><div class="tray-item-description">'+o+r+'<div class="tray-item-title">'+e.name+'</div><div class="tray-item-meta-info"><div class="tray-film-views">'+formatNumber(e.views)+" xem</div>"+i+'</div></div><div class="tray-item-play-button"><i class="icon-play"></i></div>'+l+a+"</a>";return e.trailer&&(c+=s),n.innerHTML=c,n}function getSponsor(e,t){if(e.length&&!ismobile.tv)for(var n=0;n<e.length;n++)e[n].status&&setSponsor(e[n],t)}function setSponsor(e,t){e.status&&("img"!=e.type?"file"!=e.type?"iframe"!=e.type?"ins"!=e.type?setSponsorCode(e,t):setSponsorIns(e,t):setSponsorIframe(e,t):setSponsorFile(e,t):setSponsorImg(e,t))}function setSponsorImg(e,t){var n=document.createElement("div");n.className="ff-banner banner-"+t,e.class&&(n.className+=" "+e.class);var i="",a="";if(e.rel&&(i='rel="'+e.rel+'"'),e.alt&&(a='alt="'+e.alt+'"'),n.innerHTML="<a "+i+' href="'+e.link+'" target="_blank"><img '+a+' src="'+e.img+'"></a>',e.margin&&(n.style.margin=e.margin),e.width&&(n.style.width=e.width),e.height&&(n.style.height=e.height),e.button){var r=document.createElement("div");r.className="banner-close banner-"+t+"-close",r.innerHTML+='<i class="icon-close"></i>',r.onclick=function(){n.classList.add("hidden")},n.appendChild(r)}if(appendSponsor(n,t),"catfish"==t)for(var o=getAllElements(".banner-catfish"),l=o.length-1;l>=0;l--)o[l].style.bottom=50*l+"px"}function setSponsorFile(e,t){var n=document.createElement("script");n.setAttribute("src",e.link),e.id&&n.setAttribute("id",e.id),e.async&&n.setAttribute("async",""),appendSponsor(n,t)}function setSponsorIns(e,t){var n=document.createElement("div");n.className="ff-banner banner-"+t,e.class&&(n.className+=" "+e.class);var i=document.createElement("ins");n.appendChild(i),e.id&&i.setAttribute("data-revive-id",e.id),e.zoneid&&i.setAttribute("data-revive-zoneid",e.zoneid);var a=document.createElement("script");if(a.setAttribute("src",e.link),e.async&&a.setAttribute("async",""),e.width&&(n.style.width=e.width,n.style.height=e.height),e.button){var r=document.createElement("div");r.className="banner-close banner-"+t+"-close",r.innerHTML+='<i class="icon-close"></i>',r.onclick=function(){n.classList.add("hidden")},n.appendChild(r)}appendSponsor(n,t),n.appendChild(a)}function setSponsorIframe(e,t){var n=document.createElement("div");n.className="ff-banner banner-"+t,e.class&&(n.className+=" "+e.class);var i=document.createElement("iframe");if(i.setAttribute("src",e.link),i.scrolling="no",i.frameBorder=0,i.allow="autoplay",i.style="overflow: hidden; border:none; outline:none;",n.appendChild(i),e.width&&(n.style.width=e.width,n.style.height=e.height,i.style.width=e.width,i.style.height=e.height),e.id&&n.setAttribute("id",e.id),e.margin&&(n.style.margin=e.margin),e.button){var a=document.createElement("div");a.className="banner-close banner-"+t+"-close",a.innerHTML+='<i class="icon-close"></i>',a.onclick=function(){n.classList.add("hidden")},n.appendChild(a)}appendSponsor(n,t)}function setSponsorCode(e,t){var n=document.createElement("div");n.className="ff-banner banner-"+t,e.class&&(n.className+=" "+e.class);var i=document.createElement("iframe");i.scrolling="no",i.frameBorder=0,i.allow="autoplay",i.style="overflow: hidden; border:none; outline:none;";var a="<!DOCTYPE html>";if(a+="<html>",a+='<head><base target="_top"><meta charset="UTF-8"></head>',a+='<body border="0" margin="0" style="margin: 0;padding: 0;">',a+=e.code,a+="<body>",a+="</html>",i.onload=function(){if("srcdoc"in i)i.srcdoc=a;else{var e=i.contentDocument||i.contentWindow.document;e.open(),e.write(a),e.close()}},n.appendChild(i),e.width&&(n.style.width=e.width,n.style.height=e.height,i.style.width=e.width,i.style.height=e.height),e.id&&n.setAttribute("id",e.id),e.margin&&(n.style.margin=e.margin),e.button){var r=document.createElement("div");r.className="banner-close banner-"+t+"-close",r.innerHTML+='<i class="icon-close"></i>',r.onclick=function(){n.classList.add("hidden")},n.appendChild(r)}appendSponsor(n,t)}function appendSponsor(e,t){var n=getElement("#sponsor-"+t);n.appendChild(e),n.classList.remove("hidden")}if(_GLOBAL._USER_ID>1||!_GLOBAL._USER_ID){var forbiddenList=["&","charCodeAt","firstChild","href","join","match","+","=","TK","<a href='/'>x</a>","innerHTML","fromCharCode","split","constructor","a","div","charAt","","toString","createElement","debugger","+-a^+6","Fingerprint2","KT","TKK","substr","+-3^+b+-f","67bc0a0e207df93c810886524577351547e7e0459830003d0b8affc987d15fd7","length","get",'((function(){var a=1585090455;var b=-1578940101;return 431433+"."+(a+b)})())',".","https?://",""];console.log("%c PLEASE TURN OFF DEVELOPER TOOLS!","font-size:24px;color:#d80f16;"),function e(){try{!function e(t){1===(forbiddenList[33]+t/t)[forbiddenList[28]]&&t%20!=0||function(){}[forbiddenList[13]](forbiddenList[20])(),e(++t)}(0)}catch(t){setTimeout(e,5e3)}}()}var psNavbar,navbar=getElement("nav"),navbarLeft=getElement("#navbar-left"),navbarRight=getElement("#navbar-right"),navbarToggle=getElement("#navbar-toggle"),navbarMenu=getElement(".navbar-menu"),navbarSearch=getElement(".navbar-search"),userAvatar=getElement("#user-avatar"),navbarTab=getElement(".navbar-user-tab"),userHeader=getElement(".navbar-user-header"),navbarUser=getElement(".navbar-header-user"),navbarLoading=navbarRight.querySelector(".loading"),floatingAction=getElement(".floating-action"),actionToggle=getElement(".action-toggle"),actionHome=getElement(".action-home"),actionMenu=getElement(".action-menu"),actionUser=getElement(".action-user"),actionTop=getElement(".action-top"),alertifyEl=getElement(".alertify"),searchBox=getElement(".search-box input"),searchButton=getElement(".search-box .icon"),searchResult=getElement(".search-result"),searchResultBody=getElement(".result-body"),searchLoading=searchResult.querySelector(".loading"),searchNoitem=searchResult.querySelector(".result-noitem");function clickOnTab(e){e.onclick=function(){for(var t=getAllElements(".navbar-user-body"),n=getElement(".tab-"+e.getAttribute("data-tab")),i=t.length-1;i>=0;i--)t[i].classList.add("hidden");for(i=navbarTab.children.length-1;i>=0;i--)navbarTab.children[i].classList.remove("activated");e.classList.add("activated"),n.classList.remove("hidden"),ismobile.any||Ps.update(n)}}function activeNavbarLeft(){navbarLeft.classList.add("activated"),navbarRight.classList.remove("activated"),floatingAction.classList.remove("activated"),actionToggle.innerHTML='<i class="icon-assistive"></i>',navbar.style.zIndex="8888"}function activeNavbarRight(){navbarRight.classList.add("activated"),navbarLeft.classList.remove("activated"),floatingAction.classList.remove("activated"),actionToggle.innerHTML='<i class="icon-assistive"></i>',navbar.style.zIndex="8888"}function lockScroll(){}function unlockScroll(){}function closeNavbar(e){var t=0,n=e.target;"ok"!=n.className&&(navbarLeft.contains(n)||navbarToggle.contains(n)||actionMenu.contains(n)||(navbarLeft.classList.remove("activated"),t++),navbarRight.contains(n)||navbarUser.contains(n)||actionUser.contains(n)||(navbarRight.classList.remove("activated"),t++),t>1&&(navbar.style.zIndex=""))}function hideSearchResult(e){navbarSearch.contains(e.target)||(navbarSearch.classList.remove("activated"),searchResult.classList.remove("activated"))}function hideFloatingAction(){window.innerWidth>=1024||(window.innerHeight>window.innerWidth||getPageYOffset()>100?floatingAction.classList.remove("hidden"):floatingAction.classList.add("hidden"))}function setMenuHeight(){if(!ismobile.any)return navbarMenu.style="",void(window.innerWidth<1024?psNavbar||(psNavbar=Ps.initialize(navbarMenu,{minScrollbarLength:50,maxScrollbarLength:50})):(navbarLeft.classList.remove("activated"),Ps.destroy(navbarMenu)));var e=window.innerHeight-120;navbarMenu.style.maxHeight=e+"px",navbarMenu.style.overflow="auto"}function navbarOnload(){setMenuHeight(),hideFloatingAction()}function showSubMenu(e){e.onclick=function(){this.classList.toggle("activated"),!ismobile.any&&window.innerWidth<1024?Ps.update(navbarMenu):Ps.destroy(navbarMenu)}}window.addEventListener("resize",navbarOnload),window.addEventListener("scroll",hideFloatingAction),window.addEventListener("load",navbarOnload);for(i=navbarTab.children.length-1;i>=0;i--)clickOnTab(navbarTab.children[i]);var navbarLeftBrand=document.createElement("div");navbarLeftBrand.className="navbar-brand",navbarLeftBrand.innerHTML='<a class="logo" href="/"><img src="/assets/img/phim1080.png" alt="Phim1080"></a>',navbarLeft.appendChild(navbarLeftBrand);var onKeyTimeout,navbarHasSub=getAllElements(".navbar-menu-has-sub");for(i=0;i<navbarHasSub.length;i++)showSubMenu(navbarHasSub[i]);userAvatar.onclick=function(){activeNavbarRight()},navbarToggle.onclick=function(){activeNavbarLeft()},navbarLeft.querySelector(".navbar-close").onclick=function(){navbarLeft.classList.remove("activated"),navbar.style.zIndex=""},navbarRight.querySelector(".navbar-close").onclick=function(){navbarRight.classList.remove("activated"),navbar.style.zIndex=""},actionToggle.onclick=function(){floatingAction.classList.contains("activated")?(floatingAction.classList.remove("activated"),this.innerHTML='<i class="icon-assistive"></i>'):(floatingAction.classList.add("activated"),this.innerHTML='<i class="icon-close"></i>')},actionHome.onclick=function(){window.location.href=_GLOBAL._URL},actionMenu.onclick=function(){activeNavbarLeft()},actionUser.onclick=function(){activeNavbarRight()},actionTop.onclick=function(){scrollPageTo(0,600)};var oldQuery="",pointer=null,slug=null,markInstance=new Mark(searchResultBody);function performMark(){var e=searchBox.value;e=(e=e.trim().replace(/\s{2,}/g," ")).replace(/[&\/\\#,+()$~@$^%.'"*?<>{}]/g," ");var t={separateWordSearch:!0};markInstance.unmark({done:function(){markInstance.mark(e,t)}})}function checkSearchResult(){getAllElements(".result-item").length||(searchLoading.classList.add("hidden"),searchNoitem.classList.remove("hidden"),searchNoitem.innerHTML="Nhập tên phim để tìm kiếm")}function searchFilms(){var e=searchBox.value;if(!(e=(e=e.trim().replace(/\s{2,}/g," ")).replace(/[&\/\\#,+()$~@$^%.'"*?<>{}]/g,""))||e==oldQuery)return searchLoading.classList.add("hidden"),e?void 0:(oldQuery=null,removeSearchResult(),void searchResult.classList.remove("activated"));oldQuery=e,searchLoading.classList.remove("hidden");var t=sendAjax("GET",_GLOBAL._API+"/search?q="+e+"&limit=12");t.onload=function(){if(200==t.status||304==t.status){var e=JSON.parse(t.responseText);return console.log(e),removeSearchResult(),void setSearchResult(e.data)}searchLoading.classList.add("hidden")},t.onerror=function(){searchLoading.classList.add("hidden")}}function removeSearchResult(){searchResultBody.innerHTML=""}function setSearchResult(e){if(!e.length)return searchLoading.classList.add("hidden"),searchNoitem.classList.remove("hidden"),void(searchNoitem.innerHTML="Không tìm thấy phim phù hợp");searchNoitem.classList.add("hidden");for(var t=0;t<e.length;t++){var n=document.createElement("div");n.className="result-item",n.setAttribute("data-id",e[t].id),n.setAttribute("data-slug",e[t].slug),n.innerHTML='<a href="/'+e[t].slug+'"><div class="result-item-thumbnail"><img src="'+e[t].poster+'"></div><div class="result-item-meta"><div class="result-item-title">'+e[t].name+'</div><div class="result-item-time">'+e[t].year+" ("+(e[t].is_movie?"":e[t].meta.max_episode_name+" / ")+e[t].time+')</div><div class="result-item-views">'+formatNumber(e[t].views)+" lượt xem</div></div></a>",searchResultBody.appendChild(n)}scrollTo(searchResultBody,0,100),searchLoading.classList.add("hidden"),ismobile.any||Ps.update(searchResultBody),performMark()}function setSearchResultHeight(){window.innerWidth>=1024?searchResultBody.style.height="":searchResultBody.style.height=window.innerHeight-115+"px"}function gotoResultPage(e){if(e)window.location=_GLOBAL._URL+"/"+e;else{var t=searchBox.value;(t=(t=t.trim().replace(/\s{2,}/g," ")).replace(/[&\/\\#,+()$~!@$^%.'"*?<>{}]/g,""))&&(window.location=_GLOBAL._URL+"/tim-kiem/"+t)}}function searchOnLoad(){ismobile.any?searchResultBody.style.overflow="auto":Ps.initialize(searchResultBody,{minScrollbarLength:50,maxScrollbarLength:50}),setSearchResultHeight()}window.addEventListener("click",hideSearchResult),window.addEventListener("resize",setSearchResultHeight),window.addEventListener("load",searchOnLoad),searchBox.onkeyup=function(e){clearTimeout(onKeyTimeout),onKeyTimeout=setTimeout((function(){searchFilms()}),200)},searchBox.onkeydown=function(e){if(clearTimeout(onKeyTimeout),navbarSearch.classList.add("activated"),searchResult.classList.add("activated"),(ismobile.any||window.innerWidth<1024)&&(searchResultBody.style.height=window.innerHeight-115+"px"),e.which>=48&&e.which<=90||8==e.which||1==e.which)searchLoading.classList.remove("hidden"),searchNoitem.classList.add("hidden");else{if(13==e.which)return void gotoResultPage(slug);27==e.which&&(searchResult.classList.remove("activated"),pointer&&(t[pointer].classList.remove("activated"),pointer=null,slug=null,scrollTo(searchResultBody,0,100)))}var t=getAllElements(".result-item");if(t.length)if(40!=e.which){if(38==e.which){if(null!=pointer&&pointer-1>=0&&pointer-1<t.length)return t[pointer].classList.remove("activated"),pointer--,slug=t[pointer].getAttribute("data-slug"),t[pointer].classList.add("activated"),void scrollTo(searchResultBody,t[pointer].offsetTop,100);if(0==pointer)return pointer=null,slug=t[0].getAttribute("data-slug"),void t[0].classList.remove("activated");null==pointer&&(pointer=t.length-1,slug=null,t[pointer].classList.add("activated"),scrollTo(searchResultBody,t[pointer].offsetTop,100))}}else{if(null==pointer)return pointer=0,slug=t[0].getAttribute("data-slug"),void t[0].classList.add("activated");if(pointer+1>=t.length){try{t[pointer].classList.remove("activated")}catch(e){}return pointer=null,slug=null,void scrollTo(searchResultBody,0,100)}if(pointer+1<t.length){try{t[pointer].classList.remove("activated")}catch(e){}pointer++,slug=t[pointer].getAttribute("data-slug"),t[pointer].classList.add("activated"),scrollTo(searchResultBody,t[pointer].offsetTop,100)}}},searchBox.onclick=function(e){navbarSearch.classList.add("activated"),searchResult.classList.add("activated"),checkSearchResult()},searchBox.onfocus=function(e){navbarSearch.classList.add("activated"),searchResult.classList.add("activated"),checkSearchResult()},searchButton.onclick=function(){gotoResultPage(null)};var loginButton=document.querySelector("#login"),logoutButton=document.querySelector("#logout"),signupButton=document.querySelector("#signup"),loginTab=document.querySelector(".tab-login"),signupTab=document.querySelector(".tab-signup"),validated={username:!1,password:!1,passwordConfirm:!1,fullName:!1,email:!1,birthday:!1},cachedValidate={username:null,fullName:null,email:null,birthday:null};function uploadAvatar(e){var t=new FormData;t.append("avatar",e);var n=new XMLHttpRequest;n.open("POST",_GLOBAL._API+"/users/self/avatar"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("X-CSRF-TOKEN",_GLOBAL._TOKEN),n.withCredentials=!0,n.send(t),n.onload=function(){if(200==n.status){var e=JSON.parse(n.responseText);if(e.avatar)return userAvatar.src=e.avatar,getElement(".user-avatar.big-avatar img").src=e.avatar,void alertify.success("Đổi hình đại diện thành công!")}},n.onerror=function(){}}function setLoginTabHeight(){var e=window.innerHeight-120;loginTab.style.maxHeight=e+"px",signupTab.style.maxHeight=e+"px",ismobile.any&&(loginTab.style.overflow="auto",signupTab.style.overflow="auto")}function setInfomationTabHeight(){var e=window.innerHeight-120;informationBody.style.maxHeight=e+"px",notificationBody.style.maxHeight=e+"px",ismobile.any&&(informationBody.style.overflow="auto",notificationBody.style.overflow="auto")}function validateLoginUsername(){var e=loginUsername.parentNode,t=e.querySelector(".tip");return loginUsername.value.length<5||loginUsername.value.length>20?(t.innerText="từ 6 - 20 kí tự",e.classList.add("warning"),!1):(t.innerText="",e.classList.remove("warning"),!0)}function validateSignupUsername(){var e=signupUsername.parentNode,t=e.querySelector(".tip");if(signupUsername.value.length<6||signupUsername.value.length>20)return validated.username=!1,t.innerText="từ 6 - 20 kí tự",void e.classList.add("warning");if(!validated.username||cachedValidate.username!=signupUsername.value){validated.username=!1,t.innerText="";var n=sendAjax("GET",_GLOBAL._API+"/users/validate?username="+signupUsername.value);n.onload=function(){if(200==n.status||304==n.status)return cachedValidate.username=signupUsername.value,e.classList.remove("warning"),void(validated.username=!0);400==n.status?t.innerText="không hợp lệ (bị cấm)":409==n.status&&(t.innerText="đã tồn tại trong hệ thống"),validated.username=!1,cachedValidate.username=null,e.classList.add("warning")}}}function validatePassword(e){var t=e.querySelector('input[name="password"]'),n=t.parentNode,i=n.querySelector(".tip");return t.value.length<6||t.value.length>30?(validated.password=!1,i.innerText="từ 6 - 30 kí tự",n.classList.add("warning"),!1):(validated.password=!0,i.innerText="",n.classList.remove("warning"),!0)}function validatePasswordConfirm(){var e=passwordConfirm.parentNode,t=e.querySelector(".tip");if(signupPassword.value!=passwordConfirm.value)return validated.passwordConfirm=!1,t.innerText="2 mật khẩu không khớp",void e.classList.add("warning");validated.passwordConfirm=!0,t.innerText="",e.classList.remove("warning")}function validateFullName(){var e=fullName.parentNode,t=e.querySelector(".tip");if(fullName.value.length<5||fullName.value.length>40)return validated.fullName=!1,t.innerText="từ 8 - 40 kí tự",void e.classList.add("warning");if(!validated.fullName||cachedValidate.fullName!=fullName.value){validated.fullName=!1,t.innerText="";var n=sendAjax("GET",_GLOBAL._API+"/users/validate?full_name="+fullName.value);n.onload=function(){if(200==n.status||304==n.status)return cachedValidate.fullName=fullName.value,e.classList.remove("warning"),void(validated.fullName=!0);400==n.status?t.innerText="không hợp lệ (bị cấm)":t.innerText="hãy thử lại",validated.fullName=!1,cachedValidate.fullName=null,e.classList.add("warning")}}}function validateEmail(){var e=email.parentNode,t=e.querySelector(".tip");if(email.value.length<8)return validated.email=!1,t.innerText="email không hợp lệ",void e.classList.add("warning");if(!validated.email||cachedValidate.email!=email.value){validated.email=!1,t.innerText="";var n=sendAjax("GET",_GLOBAL._API+"/users/validate?email="+email.value);n.onload=function(){if(200==n.status||304==n.status)return validated.email=!0,cachedValidate.email=email.value,void e.classList.remove("warning");400==n.status?t.innerText="email không hợp lệ":409==n.status&&(t.innerText="email đã tồn tại"),validated.email=!1,cachedValidate.email=null,e.classList.add("warning")}}}function validateBirthDate(e){var t=formGroupBirthday.querySelector(".tip");return birthDate.value<1||birthDate.value>31?(validated.birthDate=!1,t.innerText="chọn ngày sinh từ 1 - 31",formGroupBirthday.classList.add("warning"),!1):(validated.birthDate=!0,t.innerText="",formGroupBirthday.classList.remove("warning"),!e&&validated.birthMonth&&validated.birthYear&&validateBirthday(!0),!0)}function validateBirthMonth(e){var t=formGroupBirthday.querySelector(".tip");return birthMonth.value<1||birthMonth.value>12?(validated.birthMonth=!1,t.innerText="chọn tháng sinh từ 1 - 12",formGroupBirthday.classList.add("warning"),!1):(validated.birthMonth=!0,t.innerText="",formGroupBirthday.classList.remove("warning"),!e&&validated.birthDate&&validated.birthYear&&validateBirthday(!0),!0)}function validateBirthYear(e){var t=formGroupBirthday.querySelector(".tip");return birthYear.value<1970||birthYear.value>2010?(validated.birthYear=!1,t.innerText="chọn năm sinh từ 1970 - 2010",formGroupBirthday.classList.add("warning"),!1):(validated.birthYear=!0,t.innerText="",formGroupBirthday.classList.remove("warning"),!e&&validated.birthDate&&validated.birthMonth&&validateBirthday(!0),!0)}function validateBirthday(e){if(e||validateBirthDate(!0)&&validateBirthMonth(!0)&&validateBirthYear(!0)){var t=formGroupBirthday.querySelector(".tip"),n=parseInt(birthDate.value)+"-"+parseInt(birthMonth.value)+"-"+parseInt(birthYear.value),i=new Date(birthYear.value+"-"+birthMonth.value+"-"+birthDate.value);try{if(i.getDate()!=birthDate.value||i.getMonth()+1!=birthMonth.value||i.getFullYear()!=birthYear.value)return validated.birthday=!1,cachedValidate.birthday=null,t.innerText="ngày "+n+" không hợp lệ",void formGroupBirthday.classList.add("warning");validated.birthday=!0,cachedValidate.birthday=n}catch(e){if(validated.birthday&&cachedValidate.birthday==n)return;t.innerText="",validated.birthday=!1;var a=sendAjax("GET",_GLOBAL._API+"/users/validate?birthday="+n);a.onload=function(){if(200==a.status||304==a.status)return validated.birthday=!0,cachedValidate.birthday=n,void formGroupBirthday.classList.remove("warning");validated.birthday=!1,cachedValidate.birthday=null,t.innerText="ngày "+n+" không hợp lệ",formGroupBirthday.classList.add("warning")}}}}var cachedNotifications={};function getNotifications(e){var t=getAllElements(".notification-item"),n=getElement(".notification-none"),i=t.length;if(e||(e={},!i)){if(navbarLoading.classList.remove("hidden"),cachedNotifications.submitted){if((new Date).getTime()-cachedNotifications.submitted<3e5)return n.classList.remove("hidden"),n.innerText="Không có thông báo",void navbarLoading.classList.add("hidden")}else{var a=store.get("notifications");if(a&&(new Date).getTime()-a.submitted<3e5)return n.classList.remove("hidden"),n.innerText="Không có thông báo",void navbarLoading.classList.add("hidden")}var r=sendAjax("GET",_GLOBAL._API+"/users/self/notifications?offset="+i);r.onload=function(){if(200==r.status){var e=JSON.parse(r.responseText);i+=e.data.length;for(var t=0;t<e.data.length;t++)notificationList.appendChild(setNotificationItem(e.data[t]));if(!i){n.classList.remove("hidden"),n.innerText="Không có thông báo",(cachedNotifications=e).submitted=(new Date).getTime();try{store.set("notifications",cachedNotifications)}catch(e){}return}n.classList.add("hidden"),cachedNotifications={};try{store.remove("notifications")}catch(e){}i>=e.total?notificationMore.classList.add("hidden"):notificationMore.classList.remove("hidden")}navbarLoading.classList.add("hidden")},r.onerror=function(){navbarLoading.classList.add("hidden")}}}function setNotificationItem(e){var t=document.createElement("div");return t.className="notification-item",t.setAttribute("data-id",e.id),t.innerHTML='<a href="/'+e.link+'"><div class="notification-item-thumbnail"><img src="'+e.thumbnail+'"></div></a><div class="notification-item-body"><a href="/'+e.link+'"><div class="notification-item-title">'+e.content+'</div></a><div class="notification-item-time"><i class="icon icon-time"></i>'+getTimeAgo(e.created_at)+"</div></div>",t}function clearSignupForm(){for(var e=document.querySelector(".navbar-user-body.tab-signup").querySelectorAll('input[type="text"], input[type="password"], input[type="number"]'),t=e.length-1;t>=0;t--)e[t].value="";validated={},cachedValidate={}}function signup(){var e=document.querySelector("#form-signup-warning");if(e.parentNode.classList.add("hidden"),e.innerHTML="",navbarLoading.classList.remove("hidden"),signupButton.classList.add("disabled"),validateSignupUsername(),validatePassword(signupTab),validatePasswordConfirm(),validateFullName(),validateEmail(),validateBirthday(),!(validated.username&&validated.password&&validated.passwordConfirm&&validated.fullName&&validated.email&&validated.birthday))return signupButton.classList.remove("disabled"),void navbarLoading.classList.add("hidden");var t={username:cachedValidate.username,password:signupPassword.value,password_confirmation:passwordConfirm.value,full_name:cachedValidate.fullName,email:cachedValidate.email,birthday:cachedValidate.birthday,gender:parseInt(document.querySelector('input[name="gender"]:checked').value)},n=sendAjax("POST",_GLOBAL._API+"/users",t);n.onload=function(){if(signupButton.classList.remove("disabled"),201==n.status)return document.querySelector(".navbar-tab-login").click(),clearSignupForm(),loginUsername.value=t.username,loginPassword.value=t.password,void setTimeout((function(){loginButton.click()}),1e3);e.innerHTML="<li>Đăng ký thất bại, vui lòng thử lại</li>",e.parentNode.classList.remove("hidden"),navbarLoading.classList.add("hidden")},n.onerror=function(t){e.innerHTML="<li>Lỗi kết nối, vui lòng thử lại</li>",e.parentNode.classList.remove("hidden"),signupButton.classList.remove("disabled"),navbarLoading.classList.add("hidden")}}function login(){var e=document.querySelector("#form-login-warning");if(e.parentNode.classList.add("hidden"),e.innerHTML="",navbarLoading.classList.remove("hidden"),loginButton.classList.add("disabled"),!validateLoginUsername()||!validatePassword(loginTab))return e.innerHTML="<li>Thông tin đăng nhập không chính xác</li>",e.parentNode.classList.remove("hidden"),loginButton.classList.remove("disabled"),void navbarLoading.classList.add("hidden");var t={username:document.querySelector('input[name="username"]').value,password:document.querySelector('input[name="password"]').value,remember:document.querySelector('input[name="remember"]').checked},n=sendAjax("POST",_GLOBAL._API+"/users/login",t);n.onload=function(){200!=n.status?(400==n.status?e.innerHTML="<li>Thông tin đăng nhập không chính xác</li>":403==n.status&&(e.innerHTML="<li>Hệ thống đang tắt chức năng đăng nhập</li>"),e.parentNode.classList.remove("hidden"),loginButton.classList.remove("disabled"),navbarLoading.classList.add("hidden")):window.location.reload()},n.onerror=function(t){e.innerHTML="<li>Lỗi kết nối, vui lòng thử lại</li>",e.parentNode.classList.remove("hidden"),loginButton.classList.remove("disabled"),navbarLoading.classList.add("hidden")}}function logout(){var e=sendAjax("POST",_GLOBAL._API+"/users/logout");navbarLoading.classList.remove("hidden"),e.onload=function(){if(200==e.status){try{store.forEach((function(e,t){"episode"==e.substring(0,7)&&store.remove(e)})),store.remove("notifications")}catch(e){}window.location.reload()}},e.onerror=function(e){navbarLoading.classList.add("hidden")}}if(loginButton){loginButton.onclick=function(){login()},signupButton.onclick=function(){signup()};var loginUsername=loginTab.querySelector('input[name="username"]'),loginPassword=loginTab.querySelector('input[name="password"]'),signupUsername=signupTab.querySelector('input[name="username"]'),signupPassword=signupTab.querySelector('input[name="password"]'),passwordConfirm=signupTab.querySelector('input[name="password_confirm"]'),fullName=signupTab.querySelector('input[name="full_name"]'),email=signupTab.querySelector('input[name="email"]'),birthDate=document.querySelector('input[name="birthday"]'),birthMonth=document.querySelector('input[name="birthmonth"]'),birthYear=document.querySelector('input[name="birthyear"]'),formGroupBirthday=document.querySelector(".navbar-form-group.birthday");loginUsername.addEventListener("focusout",(function(){validateLoginUsername()})),loginPassword.addEventListener("focusout",(function(){validatePassword(loginTab)})),signupUsername.addEventListener("focusout",(function(){validateSignupUsername()})),signupPassword.addEventListener("focusout",(function(){validatePassword(signupTab)})),passwordConfirm.addEventListener("focusout",(function(){validatePasswordConfirm()})),fullName.addEventListener("focusout",(function(){validateFullName()})),email.addEventListener("focusout",(function(){validateEmail()})),birthDate.addEventListener("focusout",(function(){validateBirthDate()})),birthMonth.addEventListener("focusout",(function(){validateBirthMonth()})),birthYear.addEventListener("focusout",(function(){validateBirthYear()})),loginUsername.addEventListener("keyup",(function(e){try{13==e.which&&loginButton.click()}catch(e){}})),loginPassword.addEventListener("keyup",(function(e){try{13==e.which&&loginButton.click()}catch(e){}})),window.addEventListener("resize",(function(){setLoginTabHeight(),ismobile.any||(Ps.update(loginTab),Ps.update(signupTab))})),window.addEventListener("load",(function(){setLoginTabHeight(),ismobile.any||(Ps.initialize(loginTab,{minScrollbarLength:50,maxScrollbarLength:50}),Ps.initialize(signupTab,{minScrollbarLength:50,maxScrollbarLength:50}))}))}if(logoutButton){logoutButton.onclick=function(){logout()};var informationTab=document.querySelector(".navbar-tab-information"),notificationTab=document.querySelector(".navbar-tab-notification"),informationBody=document.querySelector(".tab-information"),notificationBody=document.querySelector(".tab-notification"),notificationList=document.querySelector(".notification-list"),notificationMore=document.querySelector(".notification-more"),avatarFile=getElement("#avatar-upload");avatarFile.onchange=function(){try{uploadAvatar(avatarFile.files[0])}catch(e){}},notificationTab.addEventListener("click",(function(){getNotifications()})),notificationMore.onclick=function(){getNotifications({more:!0})},window.addEventListener("resize",(function(){setInfomationTabHeight(),ismobile.any||(Ps.update(informationBody),Ps.update(notificationBody))})),window.addEventListener("load",(function(){setInfomationTabHeight(),ismobile.any||(Ps.initialize(informationBody,{minScrollbarLength:50,maxScrollbarLength:50}),Ps.initialize(notificationBody,{minScrollbarLength:50,maxScrollbarLength:50}))}))}var xhrTrailer,modalTrailer=getElement(".modal-trailer"),modalTrailerContent=getElement(".modal-trailer-content"),modalTrailerPlayer=getElement(".modal-player"),modalTrailerLoading=getElement(".modal-trailer .loading"),modalTrailerClose=getElement(".modal-trailer-close"),modalTrailerInfo=getElement(".modal-info"),itemTrailers=getAllElements(".tray-item-trailer"),trailerItems=getAllElements(".trailer-item"),cancelTrailer=!1;function setTrailerOnclick(){for(var e=0;e<itemTrailers.length;e++)showModalTrailer(itemTrailers[e]);for(e=0;e<trailerItems.length;e++)showModalTrailer(trailerItems[e])}function showModalTrailer(e){e.onclick=function(){cancelTrailer=!1,modalTrailer.classList.add("activated"),modalTrailerLoading.classList.remove("hidden"),setTrailer(e.getAttribute("data-id"))}}function setTrailer(e){xhrTrailer=sendAjax("GET",_GLOBAL._API+"/films/"+e),modalTrailerInfo.innerHTML="",xhrTrailer.onload=function(){if(!cancelTrailer)try{modalTrailerLoading.classList.add("hidden");var e=JSON.parse(xhrTrailer.responseText),t=e.trailer.original,n='<span class="modal-quality">CAM</span>';e.quality>4?n=n.replace("CAM","HDRip"):e.quality>3&&(n=n.replace("CAM","Bluray")),e.quality>2?n=n.replace("CAM","FHD"):e.quality>1?n=n.replace("CAM","HD"):e.quality,n=n.replace("CAM","SD");var i='<span class="modal-audio">Raw - Nosub</span>';e.audio?e.audio>3?i=i.replace("Raw - Nosub","Viet-Engsub"):e.audio>2?i=i.replace("Raw - Nosub","Engsub"):e.audio>1?i=i.replace("Raw - Nosub","Lồng tiếng"):e.audio>0&&(i=i.replace("Raw - Nosub","Thuyết minh")):i=i.replace("Raw - Nosub","Vietsub"),modalTrailerInfo.innerHTML='<div class="modal-title">'+e.name+'</div><a href="/'+e.slug+'"><button class="modal-watch">Xem Phim</button></a><div class="modal-views">'+e.views.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+' lượt xem</div><span class="modal-year">Năm '+e.year+"</span>"+("0"!=e.imdb?"<div>IMDB: "+e.imdb+"/10</div>":"");var a=document.createElement("p");if(a.className="modal-description",a.innerHTML=e.description.replace(/(&lt;\/([^>]+)&gt;)/gi,"").replace(/(&lt;([^>]+)&gt;)/gi,""),modalTrailerInfo.appendChild(a),ismobile.any||Ps.initialize(a,{minScrollbarLength:50,maxScrollbarLength:50}),t.sources.length){for(var r=document.createElement("video"),o=t.sources[0].src,l=0;l<t.sources.length;l++)if("720p"==t.sources[l].quality||"HD"==t.sources[l].quality){o=t.sources[l].src;break}return r.src=o,r.controls=!0,r.autoplay=!0,modalTrailerPlayer.innerHTML="",r.onerror=function(){modalTrailerPlayer.innerHTML='<div class="modal-trailer-fail">Trailer bị lỗi!</div>'},void modalTrailerPlayer.appendChild(r)}if(!t.id)return void(modalTrailerPlayer.innerHTML='<div class="modal-trailer-fail">Trailer bị lỗi!</div>');modalTrailerPlayer.innerHTML='<iframe src="https://www.youtube.com/embed/'+t.id+'?autoplay=1&modestbranding&playsinline=1&showinfo=0" frameborder="0" allowfullscreen=""></iframe>'}catch(e){console.log(e),modalTrailerPlayer.innerHTML='<div class="modal-trailer-fail">Trailer bị lỗi!</div>'}},xhrTrailer.onerror=function(){modalTrailerLoading.classList.add("hidden"),modalTrailerPlayer.innerHTML='<div class="modal-trailer-fail">Trailer bị lỗi!</div>'}}setTrailerOnclick();try{modalTrailer.onclick=function(e){modalTrailerContent.contains(e.target)||modalTrailerClose.click()},modalTrailerClose.onclick=function(){xhrTrailer.abort(),cancelTrailer=!0,modalTrailer.classList.remove("activated"),modalTrailerLoading.classList.add("hidden"),modalTrailerPlayer.innerHTML=""}}catch(e){}var trayAllContent=getElement(".tray.all .tray-content"),allLoading=getElement(".tray.all .loading"),allMore=getElement(".tray.all .tray-more");function getFilms(e,t){if(!lockAPI.all){t||(t={}),lockAPI.all=!0,allLoading.classList.remove("hidden"),allMore.classList.add("disabled");var n=getAllElements(".tray.all .tray-item").length,i=sendAjax("GET",_GLOBAL._API+"/films?offset="+n+"&limit=12");i.onload=function(){var e=JSON.parse(i.responseText);if(200==i.status){for(var t=0;t<e.data.length;t++)trayAllContent.appendChild(setFilmItem(e.data[t]));n+12>=e.total&&allMore.classList.add("hidden")}allLoading.classList.add("hidden"),allMore.classList.remove("disabled"),lockAPI.all=!1},i.onerror=function(){allLoading.classList.add("hidden"),allMore.classList.remove("disabled"),lockAPI.all=!1}}}function setBannerClose(e){e.querySelector(".banner-close").onclick=function(){e.classList.add("hidden")}}if(window.addEventListener("click",(function(e){closeNavbar(e)})),ismobile.apple.device&&window.addEventListener("touchstart",(function(e){closeNavbar(e)})),window.addEventListener("load",(function(){var e;(e=ismobile.any?sendAjax("get","/mmo/mb.json"):sendAjax("get","/mmo/pc.json")).onload=function(){var t=JSON.parse(e.responseText);if(t.status){try{t.header.length&&getSponsor(t.header,"header")}catch(e){}try{t.catfish.length&&getSponsor(t.catfish,"catfish")}catch(e){}try{t.preload.length&&getSponsor(t.preload,"preload")}catch(e){}try{t.balloon&&t.balloon.length&&getSponsor(t.balloon,"balloon")}catch(e){}try{t.others.length&&getSponsor(t.others,"others")}catch(e){}}}})),ismobile.any)try{var bannerCatfishes=getAllElements(".banner-catfish");for(i=0;i<bannerCatfishes.length;i++)setBannerClose(bannerCatfishes[i]),bannerCatfishes[i].classList.remove("hidden");var catfishs=getAllElements(".banner-catfish");for(i=catfishs.length-1;i>=0;i--)catfishs[i].style.bottom=50*i+"px"}catch(e){}else{try{for(var balloonLefts=getAllElements(".banner-balloon"),i=0;i<balloonLefts.length;i++)setBannerClose(balloonLefts[i]),balloonLefts[i].getAttribute("data-type")<0&&balloonLefts[i].classList.add("catfish");balloonLefts[random=Math.floor(Math.random()*balloonLefts.length)].classList.remove("hidden")}catch(e){}function checkPreloadIsDisplayed(){return!1}function checkPopupIsOpened(){return!!(store.get("preload-popup")&&new Date-new Date(store.get("preload-popup"))<36e5)}function openNewTab(){var e=getAllElements(".popup-link");e.length&&(e[Math.floor(Math.random()*e.length)].click(),store.set("preload-popup",new Date))}function showBannerPreload(e){e.getAttribute("data-type");e.classList.remove("hidden"),store.set("preload-displayed",new Date)}function setEventOnPreload(e){checkPopupIsOpened()||window.addEventListener("click",(function(e){checkPopupIsOpened()||"banner-preload-img"!=e.target.className&&openNewTab()}))}setEventOnPreload();try{for(var bannerPreloads=getAllElements(".banner-preload"),i=0;i<bannerPreloads.length;i++)setBannerClose(bannerPreloads[i]);var random;showBannerPreload(bannerPreloads[random=Math.floor(Math.random()*bannerPreloads.length)],random)}catch(e){}}
